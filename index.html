<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Font Awesome Kit Code -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Custom CSS-->
  <link rel="stylesheet" href="./CSS/GoPeterborough.css">
  <link rel="stylesheet" href="./CSS/Slideshow.css">
  <link rel="stylesheet" href="./CSS/MediaQueries.css">

  <script src="https://kit.fontawesome.com/yourcode.js"></script>

  <title>GoPeterborough</title>
</head>

<body>
  <div class="container">
    <div class="row">
      <figure class="figure mx-auto d-block">
        <img src="./Images/Logo.png" alt="GoPeterborough Logo" class="mx-auto d-block">
      </figure>
      <div id="weather" class="row">
        <div id="description" class="div"></div>
        <h1 id="temp"></h1>
        <div id="location" class="div"></div>
      </div>
      <div class="row">
        <div class="topnav" id="myTopnav">
          <a href="#home"><i class="fa fa-fw fa-home"></i>Home</a>
          <a href="#news"><i class="fa fa-hotel"></i> Where To Stay</a>
          <a href="#contact"><i class="fa fa-hotel"></i> Food & Drink</a>
          <a href="#about"><i class="fa fa-search-location"></i> Things to Do</a>
          <a href="#about"><i class="fa fa-calendar-alt"></i> What's On</a>
          <a href="#about"><i class="fa fa-info-circle"></i> Visitor Information</a>
          <a href="#about"><i class="fa fa-hashtag"></i> Social Media</a>
          <a href="javascript:void(0);" class="icon" onclick="myFunction()">
            <i class="fa fa-bars"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
  <br></br>
  <!-- Slideshow container -->
  <div class="slideshow-container">

    <!-- Full-width images with number and caption text -->
    <div class="mySlides fade">
      <div class="numbertext">1 / 4</div>
      <img src="./Images/Peterborough_night.jpg" style="width:100%">
      <div class="text">City Center</div>
    </div>

    <div class="mySlides fade">
      <div class="numbertext">2 / 4</div>
      <img src="./Images/Ferry_Meadows.jpg" style="width:100%">
      <div class="text">Ferry Meadows</div>
    </div>

    <div class="mySlides fade">
      <div class="numbertext">3 / 4</div>
      <img src="./Images/Overton_Station.jpg" style="width:100%">
      <div class="text">Nene Valley Railway</div>
    </div>

    <div class="mySlides fade">
      <div class="numbertext">4 / 4</div>
      <img src="./Images/Kayaking.jpg" style="width:100%">
      <div class="text">Sports & Leisure at Ferry Meadows</div>
    </div>


    <br>

    <!-- The dots/circles -->
    <div style="text-align:center">
      <span class="dot" onclick="currentSlide(1)"></span>
      <span class="dot" onclick="currentSlide(2)"></span>
      <span class="dot" onclick="currentSlide(3)"></span>
      <span class="dot" onclick="currentSlide(4)"></span>
    </div>

    <script lang="text/javascript">
      /* Toggle between adding and removing the "responsive" class to topnav when the user clicks on the icon */
      function myFunction() {
        var x = document.getElementById("myTopnav");
        if (x.className === "topnav") {
          x.className += " responsive";
        } else {
          x.className = "topnav";
        }
      }

      function weatherBalloon( cityID ) {
  var key = b07d395ad6e2598b38dda60042d83f5b;
  fetch('https://api.openweathermap.org/data/2.5/weather?id=' + 2640354 + '&appid=' + b07d395ad6e2598b38dda60042d83f5b)  
  .then(function(resp) { return resp.json() }) // Convert data to json
	.then(function(data) {
		drawWeather(data); // Call drawWeather
	})
	.catch(function() {
		// catch any errors
	});
}

window.onload = function() {
  weatherBallon( 2640354 );
}

function drawWeather( d ) {
	var celcius = Math.round(parseFloat(d.main.temp)-273.15);
	var fahrenheit = Math.round(((parseFloat(d.main.temp)-273.15)*1.8)+32); 
	
	document.getElementById('description').innerHTML = d.weather[0].description;
	document.getElementById('temp').innerHTML = celcius + '&deg;';
	document.getElementById('location').innerHTML = d.name;
}


      var slideIndex = 0;
      showSlides();

      function showSlides() {
        var i;
        var slides = document.getElementsByClassName("mySlides");
        for (i = 0; i < slides.length; i++) {
          slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) {
          slideIndex = 1
        }
        slides[slideIndex - 1].style.display = "block";
        setTimeout(showSlides, 5000); // Change image every 5 seconds
      }
    </script>

</body>

</html>